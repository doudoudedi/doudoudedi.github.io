<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="å‰è¨€prefaceâ€‹    æœ€è¿‘åœ¨æ¼æ´æŒ–æ˜è¿‡ç¨‹ä¸­ï¼Œæ¶‰åŠåˆ°äº†ä¸€äº›åŸºç¡€çš„çŸ¥è¯†æ¯”å¦‚BIOSï¼Œubootï¼Œqemuæ¨¡æ‹Ÿçš„æ–¹é¢ã€‚ â€‹    é¦–å…ˆå¼€å§‹æˆ‘ä»¬éœ€è¦äº†è§£æœºå™¨æ˜¯æ€ä¹ˆè¿è¡Œçš„ â€‹    ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨çš„æœºå™¨éƒ½æ˜¯windowsæˆ–è€…Linuxï¼Œï¼ˆæœ¬äººæ˜¯é«˜ç«¯MACæœ¬ğŸ¤£ï¼‰ï¼Œ â€‹    Recently, in the process of vulnerability mining, some basic know">
<meta property="og:type" content="article">
<meta property="og:title" content="what is uboot and bios?">
<meta property="og:url" content="http://example.com/2022/03/17/what-is-uboot-and-bios/index.html">
<meta property="og:site_name" content="doudoudedi&#39;s Blog">
<meta property="og:description" content="å‰è¨€prefaceâ€‹    æœ€è¿‘åœ¨æ¼æ´æŒ–æ˜è¿‡ç¨‹ä¸­ï¼Œæ¶‰åŠåˆ°äº†ä¸€äº›åŸºç¡€çš„çŸ¥è¯†æ¯”å¦‚BIOSï¼Œubootï¼Œqemuæ¨¡æ‹Ÿçš„æ–¹é¢ã€‚ â€‹    é¦–å…ˆå¼€å§‹æˆ‘ä»¬éœ€è¦äº†è§£æœºå™¨æ˜¯æ€ä¹ˆè¿è¡Œçš„ â€‹    ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨çš„æœºå™¨éƒ½æ˜¯windowsæˆ–è€…Linuxï¼Œï¼ˆæœ¬äººæ˜¯é«˜ç«¯MACæœ¬ğŸ¤£ï¼‰ï¼Œ â€‹    Recently, in the process of vulnerability mining, some basic know">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://raw.githubusercontent.com/doudoudedi/blog-img/master/img/image-20220317163055538.png">
<meta property="og:image" content="https://raw.githubusercontent.com/doudoudedi/blog-img/master/img/image-20220317163309156.png">
<meta property="og:image" content="https://raw.githubusercontent.com/doudoudedi/blog-img/master/img/image-20220317163524997.png">
<meta property="og:image" content="https://raw.githubusercontent.com/doudoudedi/blog-img/master/img/image-20220317170456820.png">
<meta property="article:published_time" content="2022-03-17T09:24:27.000Z">
<meta property="article:modified_time" content="2022-03-17T09:54:24.779Z">
<meta property="article:author" content="doudoudedi">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/doudoudedi/blog-img/master/img/image-20220317163055538.png">

<link rel="canonical" href="http://example.com/2022/03/17/what-is-uboot-and-bios/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>what is uboot and bios? | doudoudedi's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">doudoudedi's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/17/what-is-uboot-and-bios/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="doudoudedi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="doudoudedi's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          what is uboot and bios?
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-17 17:24:27 / Modified: 17:54:24" itemprop="dateCreated datePublished" datetime="2022-03-17T17:24:27+08:00">2022-03-17</time>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h4 id="å‰è¨€preface"><a href="#å‰è¨€preface" class="headerlink" title="å‰è¨€preface"></a>å‰è¨€preface</h4><p>â€‹    æœ€è¿‘åœ¨æ¼æ´æŒ–æ˜è¿‡ç¨‹ä¸­ï¼Œæ¶‰åŠåˆ°äº†ä¸€äº›åŸºç¡€çš„çŸ¥è¯†æ¯”å¦‚BIOSï¼Œubootï¼Œqemuæ¨¡æ‹Ÿçš„æ–¹é¢ã€‚</p>
<p>â€‹    é¦–å…ˆå¼€å§‹æˆ‘ä»¬éœ€è¦äº†è§£æœºå™¨æ˜¯æ€ä¹ˆè¿è¡Œçš„</p>
<p>â€‹    ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨çš„æœºå™¨éƒ½æ˜¯windowsæˆ–è€…Linuxï¼Œï¼ˆæœ¬äººæ˜¯é«˜ç«¯MACæœ¬ğŸ¤£ï¼‰ï¼Œ</p>
<p>â€‹    Recently, in the process of vulnerability mining, some basic knowledge has been involved, such as BIOS, uboot and QEMU simulation.<br>     First, we need to understand how the machine works<br>     Generally, the machines we use are windows or Linux (I am a high-end MACğŸ¤£),</p>
<h4 id="ä»€ä¹ˆæ˜¯BIOSï¼Ÿä»–æœ‰ä»€ä¹ˆç”¨ï¼Œä»–åšäº†ä»€ä¹ˆï¼ŸæŒ‰ä¸‹å¼€æœºé”®çš„æ—¶å€™æœºå™¨å¹²äº†å•¥ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯BIOSï¼Ÿä»–æœ‰ä»€ä¹ˆç”¨ï¼Œä»–åšäº†ä»€ä¹ˆï¼ŸæŒ‰ä¸‹å¼€æœºé”®çš„æ—¶å€™æœºå™¨å¹²äº†å•¥ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯BIOSï¼Ÿä»–æœ‰ä»€ä¹ˆç”¨ï¼Œä»–åšäº†ä»€ä¹ˆï¼ŸæŒ‰ä¸‹å¼€æœºé”®çš„æ—¶å€™æœºå™¨å¹²äº†å•¥ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯BIOSï¼Ÿä»–æœ‰ä»€ä¹ˆç”¨ï¼Œä»–åšäº†ä»€ä¹ˆï¼ŸæŒ‰ä¸‹å¼€æœºé”®çš„æ—¶å€™æœºå™¨å¹²äº†å•¥ï¼Ÿ</h4><p>â€‹    <strong>é—®ï¼š</strong></p>
<p>â€‹    <strong>è®¡ç®—æœºæ˜¯æœ€è®²é€»è¾‘ï¼Œä»–ä¼šæŒ‰ç…§ä»–çš„è§„åˆ™å»è¿è¡Œï¼Œä½†æ˜¯æˆ‘ä»¬ä¸çŸ¥é“ä»–æ˜¯æ€ä¹ˆè¿è¡Œçš„ï¼Œæˆ‘ä»¬ç‚¹å¼€ä¸€ä¸ªç¨‹åºï¼Œæˆ–è€…è¯´æˆ‘ä»¬å¼€æœºï¼Œè®¡ç®—æœºéƒ½ä¼šåé¦ˆç»™æˆ‘ä»¬ç»“æœä½†æ˜¯é‡Œé¢æ˜¯æ€æ ·çš„å‘¢ï¼Œå®ƒå¯¹æˆ‘ä»¬æ¥è¯´å°±åƒä¸€ä¸ªé»‘ç›’å­ï¼Œæˆ‘ä»¬åªè¦åŒå‡»æŒ‰é’®ã€‚å›åˆ°åº•å±‚ï¼Œå½“æˆ‘ä»¬æŒ‰ä¸‹å¼€æœºæŒ‰é’®çš„é‚£ä¸€ç¬é—´ï¼Œè®¡ç®—æœºåœ¨å¹²å˜›å‘¢ï¼Ÿ</strong></p>
<p>â€‹    <strong>Q:</strong></p>
<p>â€‹    <strong>The computer is the most logical. It will run according to its rules, but we donâ€™t know how it runs. When we click a program or turn it on, the computer will feed back to us the results. But whatâ€™s inside? Itâ€™s like a black box to us. We just need to double-click the button. Back to the bottom, what is the computer doing when we press the start button?</strong></p>
<span id="more"></span>

<p>â€‹    æˆ‘æ˜¯ç ”ç©¶IOTæ–¹å‘ä¸äºŒè¿›åˆ¶æ–¹å‘æ‰€ä»¥é€†å‘ç¨‹åºä¼šéå¸¸å¤šï¼Œï¼ˆæ‰“å¼€IDAå¥½æ‰‹å°±æ˜¯æˆ‘ğŸ˜ï¼‰ï¼Œå½“æˆ‘ä»¬IDAæ‰“å¼€ç¨‹åºï¼ŒIDAä¼šæ¨¡æ‹Ÿç¨‹åºï¼Œç„¶åç»™å‡ºä¸€ä¸²æ±‡ç¼–æŒ‡ä»¤å’Œåœ°å€ï¼Œæˆ‘ä»¬è¿è¡Œç¨‹åºCPUçš„æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨å°±ä¼šæŒ‡å‘åˆ°è¿è¡Œç¨‹åºçš„æ±‡ç¼–ä»£ç å¤„ã€‚è¿™é‡Œæ‰¯åäº†ã€‚</p>
<p>â€‹    å›åˆ°é—®é¢˜ï¼ŒæŒ‰ä¸‹å¼€æœºé”®ï¼Œå…¶å®æˆ‘ä»¬çš„æœºå™¨ä¸ä¼šé©¬ä¸Šå¼€å§‹è¿è¡Œå†…æ ¸è€Œæ˜¯</p>
<p>â€‹    CPUä¼šä¸Šç‚¹ï¼ŒCS:IPå¤ä½å¥½0xffff0 (å…¶å®å°±æ˜¯IPå¯„å­˜å™¨)</p>
<p>â€‹    æ­¤æ—¶çš„è¯å•¥ä¹Ÿæ²¡è¿è¡Œï¼Œå†…å­˜æ²¡å·¥ä½œï¼Œæ˜¾ç¤ºå™¨æ²¡äº®CPUçš„IPå¯„å­˜å™¨è®¿é—®åˆ°çš„åœ°å€å°±æ˜¯æˆ‘ä»¬å¤§åé¼é¼çš„BIOSçš„ROMåŒº</p>
<p>â€‹    ç„¶åå°±ä¼šæ¥ä¸€ä¸ªè·³è½¬æŒ‡ä»¤è·³è½¬åˆ°BIOSçš„ä»£ç å»è¿è¡Œï¼Œå½“è¿è¡Œå®Œçš„æ—¶å€™åˆä¼šæ¥ä¸€ä¸ªè·³è½¬æŒ‡ä»¤ï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„ç¡¬ç›˜å¤§å“¥é©¬ä¸Šå°±è¦æ¥äº†</p>
<p>â€‹    ç¡¬ç›˜å¤§å“¥çš„å¼•å¯¼åˆ†åŒºï¼Œç¬¬ä¸€ä¸ªæ‰‡åŒºå­˜å‚¨è¿™bootçš„ä»£ç ï¼Œå½“æˆ‘ä»¬BIOSæ‰§è¡Œå®Œå°±ä¼šè·³åˆ°è¿™é‡Œï¼Œå½“ç„¶bootæ‰§è¡Œå®Œåä¹Ÿä¼šæ¥ä¸€ä¸ªè·³è½¬è·³è½¬åˆ°load</p>
<p>â€‹     ï¼ˆtranslateï¼‰ï¼š</p>
<p>â€‹    I study IOT direction and binary direction, so there will be a lot of reverse programs. (Iâ€™m a good hand in opening IDA ğŸ˜ï¼‰ï¼Œ When IDA opens the program, IDA will simulate the program, and then give a series of assembly instructions and addresses. The instruction pointer register of our running program CPU will point to the assembly code of the running program. Itâ€™s biased here.</p>
<p>  Back to the problem, press the start button. In fact, our machine will not start running the kernel immediately, but</p>
<p>  The CPU will go up and reset CS: IP 0xffff0 (actually IP register)</p>
<p>  At this time, nothing is running, the memory is not working, the display is not lit, and the address accessed by the CPUâ€™s IP register is the ROM area of our famous BIOS</p>
<p>  Then it will take a jump instruction to jump to the BIOS code to run. When it is finished, it will take another jump instruction. At this time, our big brother of hard disk will come soon</p>
<p>  The first sector of the boot partition of the big brother of the hard disk stores the boot code. When the BIOS is executed, we will jump here. Of course, after the boot is executed, we will jump to load one by one</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boot</span>ä½œç”¨:</span><br><span class="line">	1.æ¸…å±</span><br><span class="line">	2.è®¾ç½®å…‰æ ‡</span><br><span class="line">	3.æ˜¾ç¤ºstart <span class="keyword">boot</span>ä¿¡æ¯</span><br><span class="line">	4.åŠ è½½loadç¨‹åºåˆ°ç‰©ç†å†…å­˜ä¸­</span><br><span class="line">	5.è®¾ç½®å¥½CPUçš„<span class="keyword">CS</span>:IP</span><br><span class="line">loadä½œç”¨:</span><br><span class="line">	1.åŠ è½½å†…æ ¸</span><br><span class="line">	</span><br><span class="line"><span class="keyword">Boot</span> function:</span><br><span class="line">1. <span class="keyword">Clear</span> the screen</span><br><span class="line">2. <span class="keyword">Set</span> cursor</span><br><span class="line">3. <span class="keyword">Display</span> start <span class="keyword">boot</span> information</span><br><span class="line">4. Load the load <span class="keyword">program</span> into physical <span class="keyword">memory</span></span><br><span class="line">5. <span class="keyword">Set</span> <span class="keyword">CS</span>: IP of CPU</span><br><span class="line">Load function:</span><br><span class="line">1. Load the kernel</span><br></pre></td></tr></table></figure>

<p>â€‹    åˆ°è¿™é‡Œå°±åº”è¯¥çŸ¥é“æ€¥éœ€è¦å¹²å•¥äº†ï¼Œloadæ®µå°±ä¼šæŠŠå†…æ ¸åŠ è½½çš„å†…å­˜ä¸­ç„¶åè·³è¿‡å»æ‰§è¡Œã€‚ç„¶åå†…æ ¸æ“ä½œç³»ç»Ÿå°±ä¼šæ§åˆ¶æ˜¾ç¤ºå±é”®ç›˜äº®ç­‰ä¸€äº›åˆ—ç°è±¡</p>
<p>â€‹    è¿™å°±æ˜¯windowsç”µè„‘åœ¨å¼€æœºæ—¶çš„åŠ¨ä½œï¼ˆpså½“ç„¶è¿™æ˜¯æ¯”è¾ƒè€çš„ï¼‰ï¼Œæˆ‘ä»¬çœ‹åˆ°ç”µè„‘é©¬ä¸Šäº®å±ä¹‹å‰ç”µè„‘è¿˜åšäº†å¾ˆå¤šçš„æ“ä½œï¼Œé»˜é»˜æ„Ÿå¹â€¦..</p>
<p>â€‹    At this point, you should know what to do urgently. The load section will load the kernel into the memory and then jump to execute. Then the kernel operating system will control the display screen, keyboard light and other phenomena</p>
<p>  This is the action of the windows computer when it is turned on (PS of course, this is relatively old). We see that the computer has done a lot of operations before the computer immediately lights up. We sigh silently</p>
<p>â€‹    <strong>ç­”ï¼š</strong></p>
<p>â€‹    <strong>è®¡ç®—æœºé¦–å…ˆä¼šæ‰§è¡Œbiosç„¶åbootloadæ¸…å±åŠ è½½å†…æ ¸ç‚¹äº®å±å¹•</strong></p>
<p>â€‹    <strong>BIOSæ˜¯ä¸ªäººç”µè„‘å¯åŠ¨æ—¶åŠ è½½çš„ç¬¬ä¸€ä¸ªè½¯ä»¶ã€‚å…¶å®ï¼Œå®ƒæ˜¯ä¸€ç»„å›ºåŒ–åˆ°è®¡ç®—æœºå†…ä¸»æ¿ä¸Šä¸€ä¸ªROMèŠ¯ç‰‡ä¸Šçš„ç¨‹åºï¼Œå®ƒä¿å­˜ç€è®¡ç®—æœºæœ€é‡è¦çš„åŸºæœ¬è¾“å…¥è¾“å‡ºçš„ç¨‹åºã€å¼€æœºåè‡ªæ£€ç¨‹åºå’Œç³»ç»Ÿè‡ªå¯åŠ¨ç¨‹åºï¼Œå®ƒå¯ä»CMOSä¸­è¯»å†™ç³»ç»Ÿè®¾ç½®çš„å…·ä½“ä¿¡æ¯ã€‚ (æ¥æºç™¾åº¦ç™¾ç§‘)</strong></p>
<p>â€‹    <strong>Aï¼š</strong></p>
<p>â€‹    <strong>The computer will first execute BIOS, and then boot load will clear the screen and load the kernel to light up the screen</strong></p>
<pre><code> **BIOS is the first software loaded when the PC starts. In fact, it is a set of programs solidified on a ROM chip on the main board of the computer. It stores the most important basic input and output programs of the computer, post startup self-test programs and system self startup programs. It can read and write the specific information of system settings from CMOS. (source: Baidu** Encyclopedia)
</code></pre>
<h4 id="Linuxçš„Uboot"><a href="#Linuxçš„Uboot" class="headerlink" title="Linuxçš„Uboot"></a>Linuxçš„Uboot</h4><p>â€‹    å‰é¢è¯´è¿‡æˆ‘å…¶å®ä¸»è¦ç ”ç©¶çš„æ˜¯linuxï¼Œå› ä¸ºå¤§å¤šæ•°åµŒå…¥å¼è®¾å¤‡å†…éƒ¨éƒ½æ˜¯linuxï¼Œæ‰€ä»¥é—®é¢˜åˆæ¥äº†ï¼ŒåµŒå…¥å¼è®¾å¤‡æ˜¯æ€ä¹ˆå¯åŠ¨çš„å‘¢ï¼Œä¸ºå•¥åµŒå…¥å¼è®¾å¤‡å¯åŠ¨è¿™ä¹ˆå¿«ï¼Œåƒè·¯ç”±å™¨ï¼Œæ‘„åƒå¤´æ˜¯å³æ’å³ç”¨</p>
<p>â€‹    As mentioned earlier, I mainly study Linux, because most embedded devices are Linux, so the problem comes again. How do embedded devices start? Why do embedded devices start so fast? Like routers and cameras, they are plug and play</p>
<p>â€‹    <strong>é—®ï¼š</strong></p>
<p>â€‹        <strong>åµŒå…¥å¼è®¾å¤‡æ˜¯æ€ä¹ˆå¯åŠ¨çš„å‘¢ï¼Œä¸ºå•¥åµŒå…¥å¼è®¾å¤‡å¯åŠ¨è¿™ä¹ˆå¿«ï¼Œåƒè·¯ç”±å™¨ï¼Œæ‘„åƒå¤´æ˜¯å³æ’å³ç”¨</strong></p>
<p>â€‹    <strong>Q:</strong></p>
<p>â€‹        <strong>How do embedded devices start? Why do embedded devices start so fast? Like routers, cameras are plug and play</strong></p>
<p>â€‹    å†æ¬¡å›åˆ°ä»€ä¹ˆä¹Ÿæ²¡å‘ç”Ÿä¹‹å‰ï¼Œåº”è¯¥éƒ½æœ‰äº†è§£åµŒå…¥å¼è®¾å¤‡ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨çš„ç²¾ç®€æŒ‡ä»¤é›†,æ‰€ä»¥ä¸€èˆ¬æ¥è¯´ä¹Ÿå°±ä¸æ˜¯æˆ‘ä»¬å¸¸è§çš„x86äº†ï¼Œè¿™é‡Œå·²åµŒå…¥å¼å¼€å‘æ¿ä¸ºåˆ—å­ã€‚</p>
<p>â€‹    1.é¦–å…ˆåµŒå…¥å¼å¼€å‘æ¿ä¸Šç”µï¼Œç„¶åcpuå¼€å§‹è¿è¡Œ</p>
<p>â€‹    2.ç„¶åcpuå°†å›ºåŒ–åœ¨flash&#x2F;ROMä¸­çš„ä»£ç åŠ è½½åˆ°RAMä¸­è¿è¡Œï¼Œè¿™æ®µä»£ç å°±æ˜¯bootloaderï¼ˆubootï¼‰</p>
<p>â€‹    Once again, before nothing happened, we should know that embedded devices generally use the reduced instruction set, so generally speaking, it is not our common x86. Here, the embedded development board is listed.</p>
<p>â€‹    1.First power on the embedded development board, and then the CPU starts running</p>
<p>â€‹    2.Then the CPU loads the code solidified in flash &#x2F; ROM into RAM to run. This code is bootloader (uboot)</p>
<p><img src="https://raw.githubusercontent.com/doudoudedi/blog-img/master/img/image-20220317163055538.png" alt="image-20220317163055538"></p>
<p>â€‹    If you press the space, you will enter the uboot command line, where you can perform basic mechanical command operations</p>
<p><img src="https://raw.githubusercontent.com/doudoudedi/blog-img/master/img/image-20220317163309156.png" alt="image-20220317163309156"></p>
<p>â€‹        Then continue to execute, uboot will set some basic information and then load the kernel.</p>
<p><img src="https://raw.githubusercontent.com/doudoudedi/blog-img/master/img/image-20220317163524997.png" alt="image-20220317163524997"></p>
<p>â€‹        æœ€åä»flashä¸­åŠ è½½æ–‡ä»¶ç³»ç»Ÿæ‰§è¡Œï¼Œé…ç½®ç½‘ç»œæœåŠ¡ç­‰ï¼Œæ‰§è¡Œpreinitåˆå§‹åŒ–è„šæœ¬</p>
<p>â€‹        Finally, load the file system from flash, configure network services, and execute the Preinit initialization script</p>
<p>â€‹    <strong>ç­”ï¼š</strong></p>
<p>â€‹    <strong>åµŒå…¥å¼è®¾å¤‡åˆ†2ä¸­ä¸€ç§æ˜¯linuxå†…æ ¸ä¸€ç§æ˜¯RTOSï¼ŒRTOSçš„ç³»ç»Ÿå¯åŠ¨å¾ˆå¿«ï¼Œlinuxç›¸å¯¹è¾ƒæ…¢ï¼Œç”±äºå†…å­˜è¾ƒå°ï¼Œé€šè¿‡ubootåŠ è½½å†…æ ¸ï¼Œç„¶ååŠ è½½æ–‡ä»¶ç³»ç»Ÿ</strong></p>
<p>â€‹    <strong>Answer:</strong></p>
<pre><code> **Embedded devices are divided into two types: one is Linux kernel and the other is RTOS. RTOS system starts quickly and Linux is relatively slow. Due to the small memory, load the kernel through uboot and then load the file system**
</code></pre>
<p>æœ€åå¯ä»¥é€šè¿‡æŸ¥çœ‹&#x2F;proc&#x2F;mtdæ–‡ä»¶æŸ¥çœ‹flashçš„æ–‡ä»¶åˆ†åŒºæƒ…å†µTOTOLINK EX200å¦‚ä¸‹</p>
<p><img src="https://raw.githubusercontent.com/doudoudedi/blog-img/master/img/image-20220317170456820.png" alt="image-20220317170456820"></p>
<pre><code>#### RTOS
</code></pre>
<p>â€‹    RTOSæ˜¯å³æ—¶æ“ä½œç³»ç»Ÿï¼Œéå¸¸æ˜æ˜¾çš„æ˜¯å…¶å›ºä»¶éå¸¸å°é€šè¿‡1M-2Mï¼Œå…¶ä¸­å¹¶æ²¡æœ‰åƒlinuxé‚£æ ·çš„å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œå°†ä»»åŠ¡ä¸è¿›ç¨‹æŒ‚é’©ï¼Œå¼€æœºå°±ä¼šå¯åŠ¨è¿›ç¨‹ï¼Œæ‰€ä»¥é€Ÿåº¦è¾ƒå¿«ï¼Œè€Œä¸”é€šå¸¸å›ºä»¶è¾ƒéš¾åˆ†æ</p>
<p>â€‹    RTOS is a real-time operating system. It is obvious that its firmware is very small. Through 1m-2m, there is no complete operating system like Linux. If the task is linked to the process, the process will be started after startup, so the speed is fast, and it is usually difficult to analyze the firmware</p>
<p>â€‹    </p>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="doudoudedi WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="doudoudedi Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/03/17/Compile-a-BIOS-and-run-it/" rel="prev" title="">
      <i class="fa fa-chevron-left"></i> 
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E8%A8%80preface"><span class="nav-number">1.</span> <span class="nav-text">å‰è¨€preface</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFBIOS%EF%BC%9F%E4%BB%96%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%8C%E4%BB%96%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F%E6%8C%89%E4%B8%8B%E5%BC%80%E6%9C%BA%E9%94%AE%E7%9A%84%E6%97%B6%E5%80%99%E6%9C%BA%E5%99%A8%E5%B9%B2%E4%BA%86%E5%95%A5%EF%BC%9F"><span class="nav-number">2.</span> <span class="nav-text">ä»€ä¹ˆæ˜¯BIOSï¼Ÿä»–æœ‰ä»€ä¹ˆç”¨ï¼Œä»–åšäº†ä»€ä¹ˆï¼ŸæŒ‰ä¸‹å¼€æœºé”®çš„æ—¶å€™æœºå™¨å¹²äº†å•¥ï¼Ÿ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux%E7%9A%84Uboot"><span class="nav-number">3.</span> <span class="nav-text">Linuxçš„Uboot</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">doudoudedi</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/doudoudedi/" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;doudoudedi&#x2F;" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">doudoudedi</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '188871fd6a6b490f8d28',
      clientSecret: 'c075d47620b882858b299203da6a7fea1a89f445',
      repo        : 'blog_comment_database',
      owner       : 'doudoudedi',
      admin       : ['doudoudedi'],
      id          : '526b31502b8f46ae01cbb3b259625015',
        language: 'en',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
